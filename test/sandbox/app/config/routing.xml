<?xml version="1.0" encoding="UTF-8"?>
<configurations xmlns="http://agavi.org/agavi/1.0/config">
	<configuration>
		<routes>
			<route name="user_logged_in" pattern="^1$" source="user[authenticated]" module="Auth" action="LoggedIn" />
			<route name="server" pattern="^foo$" source="_SERVER[routing_test]" module="Server" action="Matched" />
			<route name="testingsource" pattern="^foo$" source="testingsource[bar]" module="TestingSource" action="Matched" />
			<route name="with_param" pattern="^/withparam/(number:\d+)$" module="TestWithParam" action="MatchedParam" />
			<route name="with_two_params" pattern="^/withmultipleparams/(number:\d+)/(string:\w+)$" module="TestWithParam" action="MatchedMultipleParams" />
			<route name="callbacks" pattern="^/callbacks" module="Callback">
				<route name=".nonmatching_callback" pattern="^/nonmatching_callback$" callback="NonMatchingRoutingCallback" action="NonMatching" />
				<route name=".matching_callback" pattern="^/matching_callback$" callback="MatchingRoutingCallback" action="Matching" />
				<route name=".on_not_matched" pattern="^/on_not_matched">
					<route name=".callback" pattern="^/callback$" callback="OnNotMatchedRoutingCallback" action="NonMatching" />
				</route>
				<route name=".on_not_matched_stopper" pattern="^/stopper" action="Stopper" />
				<route name=".gen_with_param" pattern="^/(number:\d+)" callback="GenWithParamRoutingCallback" />
				<route name=".gen_with_unescaped_param" pattern="^/(number:\d+)" callback="GenWithUnescapedParamRoutingCallback" />
				<route name=".gen_unset_route_param" pattern="^/(number:\d+)" callback="GenUnsetRouteParamRoutingCallback" />
				<route name=".gen_unset_route_param_with_default" pattern="^/(number:\d+)" callback="GenUnsetRouteParamRoutingCallback">
					<default for="number">23</default>
				</route>
				<route name=".gen_unset_route_optional_param" pattern="^/optional/(number:\d+)?" callback="GenUnsetRouteParamRoutingCallback" />
				<route name=".gen_unset_route_optional_param_with_default" pattern="^/optional/(number:\d+)?" callback="GenUnsetRouteParamRoutingCallback">
					<default for="number">23</default>
				</route>
				<route name=".gen_unset_extra_param" pattern="^/(number:\d+)" callback="GenUnsetExtraParamRoutingCallback" />
				
				<route name=".gen_nullify_route_param" pattern="^/(number:\d+)" callback="GenNullifyRouteParamRoutingCallback" />
				<route name=".gen_nullify_route_param_with_default" pattern="^/(number:\d+)" callback="GenNullifyRouteParamRoutingCallback">
					<default for="number">23</default>
				</route>
				<route name=".gen_nullify_route_param_with_optional_default" pattern="^/optional/(number:\d+)?" callback="GenNullifyRouteParamRoutingCallback">
					<default for="number">23</default>
				</route>
				<route name=".gen_nullify_extra_param" pattern="^/(number:\d+)" callback="GenNullifyExtraParamRoutingCallback" />
				
				<route name=".gen_set_prefix_and_postfix" pattern="^/({number:\d+}/)" callback="GenSetPrefixAndPostfixRoutingCallback" />
				<route name=".gen_set_prefix_and_postfix_without_default" pattern="^/(number:\d+)" callback="GenSetPrefixAndPostfixRoutingCallback" />
				<route name=".gen_set_prefix_and_postfix_into_route" pattern="^/({number:\d+}/)" callback="GenSetPrefixAndPostfixIntoRouteRoutingCallback">
					<default for="number">{23}/</default>
				</route>
			</route>
			<route name="index" pattern="^/$" module="%actions.default_module%" action="%actions.default_action%" />
		</routes>
	</configuration>
</configurations>